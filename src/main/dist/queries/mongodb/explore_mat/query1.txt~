product_matComplex
aggregate([
{$match:{$and:[{"productFeature.nr":@ProductFeature1@}, {"productFeature.nr":@ProductFeature2@}, {"propertyNum1":{$gt:@xQ}}]}}
{$project:{"label":1, "_id":0,"nr":1}}
{$lookup:{from:"producttypeproduct", localField:"nr",foreignField:"product", as:"type"}}
{$match:{"type.productType":@ProductType@}}
{$project:{"label":1, "nr":1}}
{$sort:{label:1}}
{$limit:10}
product
aggregate
{$match:{propertyNum1: {$gt:@x@}}}
{$lookup:{from: "producttypeproduct", localField: "nr", foreignField: "product", as: "pt"}}
{$match:{"pt.productType":@ProductType@}} 
{$project:{label:1, "nr":1}} 
{$lookup: {from:"productfeatureproduct", localField: "nr", foreignField: "product", as: "pf"}}
{$match: {"pf.productFeature": @ProductFeature1@, "pf.productFeature": @ProductFeature2@}}
{$project:{label:1, "nr":1, _id:0}}
{$sort:{label:1}}
{$limit:10}
